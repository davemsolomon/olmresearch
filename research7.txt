C:\Users\davem\Desktop\k8s-2025>minikube start
* minikube v1.36.0 on Microsoft Windows 11 Home 10.0.22631.4317 Build 22631.4317
* Using the docker driver based on user configuration
* Using Docker Desktop driver with root privileges
* Starting "minikube" primary control-plane node in "minikube" cluster
* Pulling base image v0.0.47 ...
* Creating docker container (CPUs=2, Memory=2200MB) ...
! Failing to connect to https://registry.k8s.io/ from inside the minikube container
* To pull new external images, you may need to configure a proxy: https://minikube.sigs.k8s.io/docs/reference/networking/proxy/
* Preparing Kubernetes v1.33.1 on Docker 28.1.1 ...
  - Generating certificates and keys ...
  - Booting up control plane ...
  - Configuring RBAC rules ...
* Configuring bridge CNI (Container Networking Interface) ...
* Verifying Kubernetes components...
  - Using image gcr.io/k8s-minikube/storage-provisioner:v5
* Enabled addons: storage-provisioner, default-storageclass
* Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default

C:\Users\davem\Desktop\k8s-2025>minikube status
minikube
type: Control Plane
host: Running
kubelet: Running
apiserver: Running
kubeconfig: Configured


C:\Users\davem\Desktop\k8s-2025>kubectl get pods --all-namespaces
NAMESPACE     NAME                               READY   STATUS    RESTARTS        AGE
kube-system   coredns-674b8bbfcf-cwd2c           1/1     Running   0               2m59s
kube-system   etcd-minikube                      1/1     Running   0               3m4s
kube-system   kube-apiserver-minikube            1/1     Running   0               3m7s
kube-system   kube-controller-manager-minikube   1/1     Running   0               3m4s
kube-system   kube-proxy-msqfd                   1/1     Running   0               2m59s
kube-system   kube-scheduler-minikube            1/1     Running   0               3m9s
kube-system   storage-provisioner                1/1     Running   1 (2m36s ago)   3m1s

### install OLM into minikube
### https://operator-framework.github.io/olm-book/docs/install-olm.html
kubectl create -f https://raw.githubusercontent.com/operator-framework/operator-lifecycle-manager/master/deploy/upstream/quickstart/crds.yaml
kubectl create -f https://raw.githubusercontent.com/operator-framework/operator-lifecycle-manager/master/deploy/upstream/quickstart/olm.yaml

C:\Users\davem\Desktop\k8s-2025>kubectl create -f https://raw.githubusercontent.com/operator-framework/operator-lifecycle-manager/master/deploy/upstream/quickstart/crds.yaml
customresourcedefinition.apiextensions.k8s.io/catalogsources.operators.coreos.com created
customresourcedefinition.apiextensions.k8s.io/clusterserviceversions.operators.coreos.com created
customresourcedefinition.apiextensions.k8s.io/installplans.operators.coreos.com created
customresourcedefinition.apiextensions.k8s.io/operatorconditions.operators.coreos.com created
customresourcedefinition.apiextensions.k8s.io/operatorgroups.operators.coreos.com created
customresourcedefinition.apiextensions.k8s.io/operators.operators.coreos.com created
customresourcedefinition.apiextensions.k8s.io/subscriptions.operators.coreos.com created

C:\Users\davem\Desktop\k8s-2025>kubectl create -f https://raw.githubusercontent.com/operator-framework/operator-lifecycle-manager/master/deploy/upstream/quickstart/olm.yaml
namespace/olm created
namespace/operators created
serviceaccount/olm-operator-serviceaccount created
clusterrole.rbac.authorization.k8s.io/system:controller:operator-lifecycle-manager created
clusterrolebinding.rbac.authorization.k8s.io/olm-operator-binding-olm created
deployment.apps/olm-operator created
deployment.apps/catalog-operator created
clusterrole.rbac.authorization.k8s.io/aggregate-olm-edit created
clusterrole.rbac.authorization.k8s.io/aggregate-olm-view created
operatorgroup.operators.coreos.com/global-operators created
operatorgroup.operators.coreos.com/olm-operators created
clusterserviceversion.operators.coreos.com/packageserver created
catalogsource.operators.coreos.com/operatorhubio-catalog created

## catalogsource.yml
  apiVersion: operators.coreos.com/v1alpha1
  kind: CatalogSource
  metadata:
    name: operatorhubio-catalog
    namespace: olm
  spec:
    sourceType: grpc
    image: quay.io/operatorhubio/catalog:latest
    displayName: Community Operators
    publisher: OperatorHub.io

## apply catalogsource.yml
C:\Users\davem\Desktop\k8s-2025>kubectl apply -f ./catalogsource.yml

C:\Users\davem\Desktop\k8s-2025>kubectl apply -f ./catalogsource.yml
Warning: resource catalogsources/operatorhubio-catalog is missing the kubectl.kubernetes.io/last-applied-configuration annotation which is required by kubectl apply. kubectl apply should only be used on resources created declaratively by either kubectl create --save-config or kubectl apply. The missing annotation will be patched automatically.
catalogsource.operators.coreos.com/operatorhubio-catalog configured

### https://olm.operatorframework.io/docs/troubleshooting/catalogsource/
wait about 3 min and then
C:\Users\davem\Desktop\k8s-2025>kubectl -n olm get packagemanifests
NAME                                       CATALOG               AGE
service-binding-operator                   Community Operators   3m12s
ack-acm-controller                         Community Operators   3m12s
kubeflow                                   Community Operators   3m12s
ecr-secret-operator                        Community Operators   3m12s
istio                                      Community Operators   3m12s
...


